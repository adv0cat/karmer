CREATE TYPE PKeyReaction AS
(
    channel_id   INTEGER,
    msg_id       INTEGER,
    from_user_id INTEGER,
    emoticon     TEXT
);

CREATE TABLE Reactions
(
    channel_id   INTEGER,
    msg_id       INTEGER,
    from_user_id INTEGER,
    to_user_id   INTEGER,
    emoticon     TEXT CHECK (CHAR_LENGTH(emoticon) <= 50),
    count        INTEGER DEFAULT 1,
    created_at   TIMESTAMP WITH TIME ZONE NOT NULL,
    PRIMARY KEY (channel_id, msg_id, from_user_id, emoticon)
);

CREATE TABLE ReactionCost
(
    emoticon TEXT CHECK (CHAR_LENGTH(emoticon) <= 50) PRIMARY KEY,
    cost     INTEGER NOT NULL
);

INSERT INTO ReactionCost (emoticon, cost)
VALUES ('ðŸ˜€', 100),
       ('ðŸ˜’', -100),
       ('ðŸ˜”', -150),
       ('ðŸ˜¡', -200),
       ('ðŸ‘', 100),
       ('ðŸ‘Ž', -100),
       ('ðŸ™', 50),
       ('ðŸ’ª', 80),
       ('ðŸŽ‰', 120),
       ('ðŸ’”', -120),
       ('â¤ï¸', 200),
       ('ðŸŒš', 0),
       ('ðŸ˜ƒ', 100),
       ('ðŸ˜„', 100),
       ('ðŸ˜', 110),
       ('ðŸ˜†', 100),
       ('ðŸ˜…', 50),
       ('ðŸ¤£', 160),
       ('ðŸ˜‚', 150),
       ('ðŸ™‚', 50),
       ('ðŸ™ƒ', 50),
       ('ðŸ˜‰', 70),
       ('ðŸ˜Š', 100),
       ('ðŸ˜‡', 100),
       ('ðŸ¥°', 200),
       ('ðŸ˜', 200),
       ('ðŸ˜¢', -100),
       ('ðŸ˜Ž', 80),
       ('ðŸ¤”', 0),
       ('ðŸ¤—', 100),
       ('ðŸ˜´', -20),
       ('ðŸ¤', 0),
       ('ðŸ¤©', 120),
       ('ðŸ™„', -50),
       ('ðŸ¤‘', 150),
       ('ðŸ˜±', -10),
       ('ðŸ˜“', -20),
       ('ðŸ˜µ', -100),
       ('ðŸ¥³', 130),
       ('ðŸ˜ž', -120),
       ('ðŸ˜¬', -30),
       ('ðŸ¤¤', 60),
       ('ðŸ¥º', 50),
       ('ðŸ¤ ', 110),
       ('ðŸ¤', 80),
       ('ðŸ§', 0),
       ('ðŸ¤«', 10),
       ('ðŸ¤®', -130),
       ('ðŸ¥´', -50),
       ('ðŸ¤·', 0),
       ('ðŸ¤·â€â™‚ï¸', 0),
       ('ðŸ¤·â€â™€ï¸', 0),
       ('ðŸ’©', -100),
       ('ðŸ”¥', 200),
       ('âš¡ï¸', 50),
       ('â„ï¸', -20),
       ('ðŸ¤¦', -50),
       ('ðŸ¤¦â€â™‚ï¸', -50),
       ('ðŸ¤¦â€â™€ï¸', -50),
       ('ðŸ‘¨â€ðŸ’»', 100),
       ('ðŸ‘©â€ðŸ’»', 100),
       ('ðŸ•µï¸â€â™‚ï¸', 50),
       ('ðŸ•µï¸â€â™€ï¸', 50),
       ('ðŸ‘¨â€ðŸ³', 80),
       ('ðŸ‘©â€ðŸ³', 80),
       ('ðŸ§‘â€ðŸŒ¾', 70),
       ('ðŸ‘¨â€ðŸŽ¤', 90),
       ('ðŸ‘©â€ðŸŽ¤', 90),
       ('ðŸ§‘â€ðŸŽ¨', 100),
       ('ðŸ‘¨â€ðŸ”¬', 120),
       ('ðŸ‘©â€ðŸ”¬', 120),
       ('ðŸ¤µ', 50),
       ('ðŸ‘°', 50),
       ('ðŸ‘¶', 30),
       ('ðŸ§“', 30),
       ('ðŸ¤µâ€â™‚ï¸', 50),
       ('ðŸ‘°â€â™€ï¸', 50),
       ('ðŸ˜ˆ', -50),
       ('ðŸ‘»', 10),
       ('ðŸ¤–', 20),
       ('ðŸŽƒ', 30),
       ('ðŸ‘½', 5),
       ('ðŸ‘', 100),
       ('ðŸ’ƒ', 70),
       ('ðŸ•º', 70),
       ('ðŸ’¤', -10),
       ('ðŸ‘€', 30),
       ('ðŸ‘‚', 20),
       ('ðŸ§ ', 150),
       ('ðŸŽ', 50),
       ('ðŸ•', 20),
       ('ðŸŽ‚', 60),
       ('ðŸš—', 40),
       ('âœˆï¸', 70),
       ('ðŸŒ', 100),
       ('ðŸš€', 200),
       ('â°', -30),
       ('ðŸ“š', 100),
       ('ðŸ”‘', 80),
       ('ðŸ’°', 150),
       ('âš½', 60),
       ('ðŸ€', 60),
       ('ðŸˆ', 60),
       ('âš¾', 60),
       ('ðŸŽ¾', 60),
       ('ðŸŽ²', 20),
       ('ðŸŽ¸', 70),
       ('ðŸŽ»', 70);
