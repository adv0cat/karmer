CREATE TYPE PKeyReaction AS
(
    channel_id   INTEGER,
    msg_id       INTEGER,
    from_user_id INTEGER,
    emoticon     TEXT
);

CREATE TABLE Reactions
(
    channel_id   INTEGER,
    msg_id       INTEGER,
    from_user_id INTEGER,
    to_user_id   INTEGER,
    emoticon     TEXT CHECK (CHAR_LENGTH(emoticon) <= 50),
    count        INTEGER DEFAULT 1,
    created_at   TIMESTAMP WITH TIME ZONE NOT NULL,
    PRIMARY KEY (channel_id, msg_id, from_user_id, emoticon)
);

CREATE TABLE ReactionCost
(
    emoticon TEXT CHECK (CHAR_LENGTH(emoticon) <= 50) PRIMARY KEY,
    cost     INTEGER NOT NULL
);

INSERT INTO ReactionCost (emoticon, cost)
VALUES ('😀', 100),
       ('😒', -100),
       ('😔', -150),
       ('😡', -200),
       ('👍', 100),
       ('👎', -100),
       ('🙏', 50),
       ('💪', 80),
       ('🎉', 120),
       ('💔', -120),
       ('❤️', 200),
       ('🌚', 0),
       ('😃', 100),
       ('😄', 100),
       ('😁', 110),
       ('😆', 100),
       ('😅', 50),
       ('🤣', 160),
       ('😂', 150),
       ('🙂', 50),
       ('🙃', 50),
       ('😉', 70),
       ('😊', 100),
       ('😇', 100),
       ('🥰', 200),
       ('😍', 200),
       ('😢', -100),
       ('😎', 80),
       ('🤔', 0),
       ('🤗', 100),
       ('😴', -20),
       ('🤐', 0),
       ('🤩', 120),
       ('🙄', -50),
       ('🤑', 150),
       ('😱', -10),
       ('😓', -20),
       ('😵', -100),
       ('🥳', 130),
       ('😞', -120),
       ('😬', -30),
       ('🤤', 60),
       ('🥺', 50),
       ('🤠', 110),
       ('🤝', 80),
       ('🧐', 0),
       ('🤫', 10),
       ('🤮', -130),
       ('🥴', -50),
       ('🤷', 0),
       ('🤷‍♂️', 0),
       ('🤷‍♀️', 0),
       ('💩', -100),
       ('🔥', 200),
       ('⚡️', 50),
       ('❄️', -20),
       ('🤦', -50),
       ('🤦‍♂️', -50),
       ('🤦‍♀️', -50),
       ('👨‍💻', 100),
       ('👩‍💻', 100),
       ('🕵️‍♂️', 50),
       ('🕵️‍♀️', 50),
       ('👨‍🍳', 80),
       ('👩‍🍳', 80),
       ('🧑‍🌾', 70),
       ('👨‍🎤', 90),
       ('👩‍🎤', 90),
       ('🧑‍🎨', 100),
       ('👨‍🔬', 120),
       ('👩‍🔬', 120),
       ('🤵', 50),
       ('👰', 50),
       ('👶', 30),
       ('🧓', 30),
       ('🤵‍♂️', 50),
       ('👰‍♀️', 50),
       ('😈', -50),
       ('👻', 10),
       ('🤖', 20),
       ('🎃', 30),
       ('👽', 5),
       ('👏', 100),
       ('💃', 70),
       ('🕺', 70),
       ('💤', -10),
       ('👀', 30),
       ('👂', 20),
       ('🧠', 150),
       ('🍎', 50),
       ('🍕', 20),
       ('🎂', 60),
       ('🚗', 40),
       ('✈️', 70),
       ('🌍', 100),
       ('🚀', 200),
       ('⏰', -30),
       ('📚', 100),
       ('🔑', 80),
       ('💰', 150),
       ('⚽', 60),
       ('🏀', 60),
       ('🏈', 60),
       ('⚾', 60),
       ('🎾', 60),
       ('🎲', 20),
       ('🎸', 70),
       ('🎻', 70);
